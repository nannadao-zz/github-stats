{% extends 'base.html' %} {% block content %}
<nav> 

  <h1> <a href="/"> GitHubStats </a> </h1>
</nav>
<div id="result-content">
  <div id="basic-info"> 
    <img src="{{ value["avatar"] }}" />

    <div id="fullname">
      <h3> {{ value["fullname"] }} </h3>
    </div>

    <div id="username">
      <i class="fas fa-link"></i>
      <a href="{{ value["url"] }}">
        {{ value["username"] }}
      </a>
    </div>

    <div id="company">
      <i class="far fa-building"></i>
      <p> 
        {{ value["company"] }}
      </p>
    </div>
  </div>

  <div id="github-stats">
    <canvas id="chart" style="display: block; width: 50%; height: 50%;"></canvas>

    <div id="repos-table">
      <table>
        <tr>
          <th class="table-project"> Project </th>
          <th class="table-language"> Main Language </th>
        </tr>

        {% for item in value["repos"] %}
          <tr>
            <td class="table-project">  
              <a href="{{ item["repo_link"] }}" >
                {{ item["repo_name"] }}
              </a>
              <a href="{{ item["repo_link"] }}"> 
                <i class="fas fa-external-link-alt"></i>
              </a>
            </td>
            <td class="table-language"> {{ item["repo_language"] }} </td>
          </tr>
        {% endfor %}

      </table>
    </div>
  </div>

</div>

<script>
  var ctx = document.getElementById("chart").getContext("2d");

  var data = {
    datasets: [{
        data: {{ language_values }},
        backgroundColor: {{ colors | tojson }}
      }],
    labels: {{ language_codes | tojson }},
  };

  var myPieChart = new Chart(ctx, {
    type: "pie",
    data: data,
  });
</script>

{% endblock %}